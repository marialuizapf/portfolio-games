//other.hp -= 1;

if (other.hearts > 0) {

    other.hearts -= 1;
    other.heart_state[other.hearts] = 1;
}